name: "coastal"
# Test SKUs: Coastal Pet product model numbers (verified from search results)
test_skus: [
  "HSCP2",     # Herm. Sprenger ULTRA-PLUS Training Collar
  "06601",     # Coastal Adjustable Dog Collar
  "07001",     # Safe Cat Adjustable Breakaway Collar
  "14401",     # New Earth Soy Adjustable Dog
  "SCC12",     # Safe Cat Adjustable Breakaway Cat Collar
  "WWAC1",     # Water & Woods Adjustable Dog Collar
]
fake_skus: ["xyzabc123notexist456", "ZZZZZ", "00000"]
edge_case_skus: ["A", "ABCDEFGHIJ123456"]  # Very short and very long
base_url: "https://www.coastalpet.com"
timeout: 15
retries: 2
image_quality: 20

selectors:
  - name: "Name"
    selector: "h4.product-details__product-name"
    attribute: "text"
  - name: "Brand"
    selector: "a.gray-bold-link[href*='brand=']"
    attribute: "text"
  - name: "Size"
    selector: ".product-details__size-button--active, .product-details__size-button"
    attribute: "text"
  - name: "Image URLs"
    selector: "img[src*='salsify'][src*='images.salsify.com']"
    attribute: "src"
    multiple: true

workflows:
  - action: "navigate"
    params:
      url: "https://www.coastalpet.com/products/search/?q={sku}"
  - action: "conditional_click"
    params:
      selector: "#CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll, .CybotCookiebotDialogBodyButton, button[aria-label='Allow all']"
  - action: "wait_for"
    params:
      selector:
        - ".product-listing__title--text"
        - "h3:has-text('Search')"
        - "//h3[contains(text(), 'Search')]"
      timeout: 5
  - action: "wait"
    params:
      duration: 1
  - action: "check_no_results"
  - action: "conditional_skip"
    params:
      if_flag: "no_results_found"
  - action: "click"
    params:
      selector: "a.product-listing__title.product-listing__link"
  - action: "wait_for"
    params:
      selector: ".product-details"
      timeout: 5
  - action: "extract"
    params:
      fields: ["Name", "Brand", "Size", "Image URLs"]

anti_detection:
  enable_captcha_detection: false
  enable_rate_limiting: false
  enable_human_simulation: false
  enable_session_rotation: false
  enable_blocking_handling: false
  rate_limit_min_delay: 1.0
  rate_limit_max_delay: 3.0
  session_rotation_interval: 100
  max_retries_on_detection: 3

validation:
  no_results_selectors:
    # Be specific - only match visible elements, not script templates
    - "//main//*[contains(text(), 'Your search returned no results')]"
    - "//main//*[contains(text(), '0 Products Found')]"
  no_results_text_patterns:
    - "Your search returned no results"
    - "0 Products Found"
