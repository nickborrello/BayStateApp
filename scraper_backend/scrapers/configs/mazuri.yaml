name: "mazuri"
# Test SKUs: Mazuri exotic animal feed product numbers (verified working)
# Format: These are product codes/formula numbers that work with Mazuri search
test_skus: [
  "5E5L",       # Tortoise LS Diet (formula number)
  "5M30",       # Rodent Breeder 6F (formula number)
  "5M3N",       # Waterfowl Maintenance
  "5M21",       # Herbivorous Reptile Diet
  "5MA2",       # Aquatic Turtle Diet
  "5M4C",       # Tortoise Diet
]
fake_skus: ["xyzabc123notexist456", "9999999", "NOTEXIST"]
edge_case_skus: ["1", "00000000000"]  # Very short and zero-padded
base_url: "https://www.mazuri.com"
timeout: 15
retries: 2
image_quality: 20

selectors:
  - name: "Name"
    selector: "h2.product-single__title, .product-single__title"
    attribute: "text"
  - name: "Brand"
    selector: "h2.product-single__title, .product-single__title"
    attribute: "text"
  - name: "Weight"
    selector: "//*[contains(text(), 'Product Size:')] | //*[contains(text(), 'Weight:')] | //*[contains(@class, 'product-weight')]"
    attribute: "text"
    required: false
  - name: "Image URLs"
    selector: ".product-single__photo img, .product__photo img, #carouselExampleControls img, .product-gallery img"
    attribute: "src"
    multiple: true

workflows:
  - action: "navigate"
    params:
      url: "https://mazuri.com/pages/search-results-page?q={sku}"
  - action: "wait"
    params:
      seconds: 3
  - action: "wait_for"
    params:
      selector: ".snize-product, a[href*='/products/'], .snize-no-results, .snize-no-products-found, #search-no-results, .search-results, body"
      timeout: 5
  - action: "wait"
    params:
      seconds: 2
  - action: "check_no_results"
  - action: "conditional_skip"
    params:
      if_flag: "no_results_found"
  - action: "click"
    params:
      selector: "a[href*='/products/']:not([href*='gift-card'])"
      index: 0
  - action: "wait_for"
    params:
      selector:
        - "h2.product-single__title"
        - ".product-single"
        - "[data-section-type='product']"
      timeout: 5
  - action: "extract"
    params:
      fields: ["Name", "Brand", "Weight", "Image URLs"]
  - action: "transform_value"
    params:
      field: "Image URLs"
      transformations:
        - type: "replace"
          pattern: "_small"
          replacement: "_large"
  - action: "transform_value"
    params:
      field: "Brand"
      transformations:
        - type: "replace"
          pattern: "^.*$"
          replacement: "Mazuri"

anti_detection:
  enable_captcha_detection: false
  enable_rate_limiting: false
  enable_human_simulation: false
  enable_session_rotation: false
  enable_blocking_handling: false
  rate_limit_min_delay: 0.5
  rate_limit_max_delay: 1.0
  session_rotation_interval: 100
  max_retries_on_detection: 3

validation:
  no_results_selectors:
    - ".snize-no-products-found"
    - ".snize-no-products-found-text"
    - ".no-results"
    - ".empty-search"
    - "[data-testid*='no-results']"
    - ".snize-no-results"
    - "#search-no-results"
    - ".snize-no-results-container"
    - ".snize-message-no-results"
  no_results_text_patterns:
    - "no results found"
    - "no products found"
    - "your search returned no results"
    - "we couldn't find any results"
    - "no items match your search"
    - "sorry, nothing found"
    - "no matches found"
    - "didn't match any results"
