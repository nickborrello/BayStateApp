name: "orgill"
# Test SKUs: Orgill UPCs for pet/hardware products
test_skus: [
  "037193347322",  # Orgill product
  "032700006105",  # Pet product UPC
  "073091023005",  # Hardware product
  "027773008934",  # Hardware product
  "032886595189",  # Pet product
  "071859975047",  # Pet supplies
]
fake_skus: ["zzzzqqqq9999xxxx", "000000000000", "999999999999"]
edge_case_skus: ["123", "1234567890123456789"]  # Very short and very long
base_url: "https://www.orgill.com"
timeout: 15
retries: 2
image_quality: 40

selectors:
  - name: "Name"
    selector: "#cphMainContent_ctl00_lblDescription"
    attribute: "text"
  - name: "Brand"
    selector: "#cphMainContent_ctl00_lblVendorName"
    attribute: "text"
  - name: "model_number"
    selector: "#cphMainContent_ctl00_lblModelNumber"
    attribute: "text"
  - name: "Weight"
    selector: "//strong[contains(text(),'Weight(lb):')]/parent::div/following-sibling::div"
    attribute: "text"
  - name: "Image URLs"
    selector: "img[id*='imgProductDetail'], #multipleImagesCarousel img"
    attribute: "src"
    multiple: true

workflows:
  - action: "login"
  - action: "navigate"
    params:
      url: "https://www.orgill.com/SearchResultN.aspx?ddlhQ={sku}"
  - action: "wait"
    params:
      seconds: 5
  - action: "wait_for"
    params:
      selector:
        - "#cphMainContent_ctl00_lblDescription"
        - "#cphMainContent_ctl00_lblErrorMessage"
        - "#cphMainContent_ctl00_lblSearchSubHeader"
        - "//span[contains(text(), 'Found 0 results')]"
        - ".no-results"
        - "body"
      timeout: 10
  - action: "wait"
    params:
      seconds: 5
  - action: "check_no_results"
  - action: "conditional_skip"
    params:
      if_flag: "no_results_found"
  - action: "click"
    params:
      selector: "//a[div[contains(text(), 'Ordering Specifications')]]"
  - action: "wait_for"
    params:
      selector: "#orderSpecificationDiv"
      timeout: 5
  - action: "extract"
    params:
      fields: ["Name", "Brand", "model_number", "Weight", "Image URLs"]
  - action: "transform_value"
    params:
      field: "Image URLs"
      transformations:
        - type: "replace"
          pattern: "/websmall/"
          replacement: "/web/"

login:
  url: "https://www.orgill.com/index.aspx?tab=8"
  username_field: "#cphMainContent_ctl00_loginOrgillxs_UserName"
  password_field: "#cphMainContent_ctl00_loginOrgillxs_Password"
  submit_button: "#cphMainContent_ctl00_loginOrgillxs_LoginButton"
  success_indicator: "a[href='/signOut.aspx']"
  timeout: 60

anti_detection:
  enable_captcha_detection: false
  enable_rate_limiting: false
  enable_human_simulation: false
  enable_session_rotation: false
  enable_blocking_handling: false
  rate_limit_min_delay: 1.0
  rate_limit_max_delay: 3.0
  session_rotation_interval: 100
  max_retries_on_detection: 3

validation:
  no_results_selectors:
    - "//span[contains(text(), 'Found 0 results')]"
    - ".no-results"
    - ".empty-search"
    - "[data-testid*='no-results']"
    - ".search-no-results"
  no_results_text_patterns:
    - "no results found"
    - "no products found"
    - "your search returned no results"
    - "we couldn't find any results"
    - "no items match your search"
    - "Found 0 results"
